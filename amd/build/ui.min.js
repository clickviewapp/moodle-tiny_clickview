define("tiny_clickview/ui",["exports","tiny_clickview/modal","core/modal_factory","./options"],(function(_exports,_modal,_modal_factory,_options){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Tiny ClickView Video ui helper.
   *
   * @module      tiny_clickview/ui
   * @copyright   2023 ClickView Pty. Limited <info@clickview.com.au>
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.handleAction=void 0,_modal=_interopRequireDefault(_modal),_modal_factory=_interopRequireDefault(_modal_factory);_exports.handleAction=editor=>{displayDialogue(editor)};const getTemplateContext=(editor,data)=>Object.assign({},{iframe:(0,_options.getIframe)(editor)},data),displayDialogue=async function(editor){let data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const modal=await _modal_factory.default.create({type:_modal.default.TYPE,templateContext:getTemplateContext(editor,data),large:!0});modal.show();const pluginFrame=document.getElementById("clickview_iframe"),eventsApi=new CVEventsApi(pluginFrame.contentWindow);eventsApi.on("cv-lms-addvideo",(function(event,detail){editor.execCommand("mceInsertContent",!1,detail.embedHtml),eventsApi.off("cv-lms-addvideo"),modal.destroy()}),!0)}}));

//# sourceMappingURL=ui.min.js.map